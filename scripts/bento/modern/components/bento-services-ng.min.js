/**
 * Bento Modern v0.8.13
 * Copyright 2015 Thomson Reuters
 * Maintained by Chi Gao, Joe Huang, Aaron Mendez
 */
!function(a){"use strict";var b=document.getElementsByTagName("script"),c=b[b.length-1].src;a.module("bento.services",[]).config([function(){var b=window.navigator.msMaxTouchPoints,c="ontouchstart"in document.createElement("div");(b||c)&&a.element(document.getElementsByTagName("body")).addClass("touch");var d=navigator.appVersion,e="unknown-os";-1!==d.indexOf("Win")?e="win":/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?e="ios":-1!==d.indexOf("Mac")?e="mac":navigator.userAgent.toLowerCase().indexOf("android")>-1?e="android":-1!==d.indexOf("X11")?e="unix":-1!==d.indexOf("Linux")?e="linux":-1!==d.indexOf("SunOS")&&(e="solaris"),a.element(document.getElementsByTagName("body")).addClass(e);var f=!!window.opera||navigator&&navigator.userAgent.indexOf(" OPR/")>=0,g="undefined"!=typeof InstallTrigger,h=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,i=navigator.userAgent&&navigator.userAgent.search("Mobile")>-1&&navigator.userAgent.search("Safari")>-1,j=!!window.chrome&&!f,k=!1||!!document.documentMode,l="unknown-browser",m="unknown-browser-version";i?(l="mobile_safari",m=l+navigator.userAgent.match(/version\/(\d+)/i)[1]):f?(l="opera",m=l+window.opera.version()):g&&navigator.userAgent?(l="firefox",m=l+navigator.userAgent.match(/firefox\/(\d+)/i)[1]):h&&-1!==navigator.userAgent.search("version")?(l="safari",m=l+navigator.userAgent.match(/version\/(\d+)/i)[1]):j&&navigator.userAgent?(l="chrome",m=l+navigator.userAgent.match(/chrome\/(\d+)/i)[1]):k&&navigator.userAgent?(l="ie",m=-1!==navigator.userAgent.search("like Gecko")?l+"11":l+navigator.userAgent.match(/msie\ (\d+)/i)[1]):f&&(l="opera",m=window.opera?l+window.opera.version():l+navigator.userAgent.match(/ OPR\/(\d+)/i)[1]),a.element(document.getElementsByTagName("body")).addClass(l),a.element(document.getElementsByTagName("body")).addClass(m)}]).filter("highlight",function(){return function(a,b,c){if(""===b||"undefined"==typeof b||c)return a;var d,e=a||"",f=new RegExp("("+b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")","gi");return d=e.replace(f,'<span class="matching-text-highlight">$&</span>')}}).factory("$bentoServices",["$window","$timeout",function(a,b){function c(){return Math.round(1e7*Math.random()).toString()+Math.round(1e7*Math.random()).toString()}function d(c){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,e=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,f=!!d;if(f){var g=d(c);return function(){e(g)}}var h=b(c,16.66,!1);return function(){b.cancel(h)}}function e(a){return a>47&&58>a||32===a||13===a||a>64&&91>a||a>95&&112>a||a>185&&193>a||a>218&&223>a}var f=function(){var a=window.navigator.msMaxTouchPoints,b="ontouchstart"in document.createElement("div");return a||b},g=function(a,b){var c=a.$root.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():a.$apply(b)},h=function(){var a,b,c=-1;return"Microsoft Internet Explorer"===navigator.appName?(a=navigator.userAgent,b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!==b.exec(a)&&(c=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(a=navigator.userAgent,b=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==b.exec(a)&&(c=parseFloat(RegExp.$1))),c};return{getIEVersion:h,rAF:d,retina:a.devicePixelRatio>1,isTouchSupported:f,generateUID:c,safeApply:g,isPrintableKeyCode:e}}]).factory("$recursionHelper",["$compile",function(b){return{compile:function(c,d){a.isFunction(d)&&(d={post:d});var e,f=c.contents().remove();return{pre:d&&d.pre?d.pre:null,post:function(a,c){e||(e=b(f)),e(a,function(a){c.append(a)}),d&&d.post&&d.post.apply(null,arguments)}}}}}]).provider("$bentoJSRoot",function(){var a,b=this;this.configAngularTranslateProvider=function(a,c,d,e){d.addURLPattern(b.getBentoJSRoot(a)+"i18n/"+a+"-{lang}.json"),c.useLoader("$bentoTranslateLoader"),c.preferredLanguage(e?e.replace("-","_").toLowerCase():"en"),c.translationNotFoundIndicatorLeft("!"),c.translationNotFoundIndicatorRight("!"),c.fallbackLanguage(e)},this.getBentoJSRoot=function(b){for(var d=document.querySelectorAll("script[src]"),e=-1,f=0;f<d.length;f++){if(-1!=d[f].attributes.src.value.search("/"+b)){e=f;break}if(-1!=d[f].attributes.src.value.search("components/bento-modern.")){e=f;break}}var g=-1===e?c.split("/"):d[e].src.split("/");return g.pop(),a=g.join("/")+"/"},this.turnOnFullErrorReporting=function(a){window.onerror=a?function(a,b,c,d,e){var f;f=e&&void 0!==e?e.message:a,window.console.log("Full Error: "+f)}:null},this.$get=[function(){return a}]})}(window.angular);