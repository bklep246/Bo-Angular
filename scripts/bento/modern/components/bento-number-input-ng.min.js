/**
 * Bento Modern v0.8.13
 * Copyright 2015 Thomson Reuters
 * Maintained by Chi Gao, Joe Huang, Aaron Mendez
 */
!function(a,b){"use strict";b.module("bento.numberinput",["bento.services"]).factory("$bentoNumberInputHelper",[function(){function a(a){var b=a[0].parentNode;b.style.width=a[0].offsetWidth+"px",b.style.height=a[0].offsetHeight+"px"}function b(a,b,c,d,e){var f=a;return"undefined"==typeof a&&(f=0),f=Math.round(1e12*(Number(f)+b))/1e12,"undefined"!=typeof d&&f>d?f=d:"undefined"!=typeof e&&e>f&&(f=e),f}return{alignButtons:a,updateModelWithStep:b}}]).directive("bentoNumberInput",["$bentoNumberInputHelper","$bentoServices","$timeout",function(c,d,e){return{restrict:"A",require:"?ngModel",replace:!1,transclude:!0,link:function(f,g,h){function i(){var a=c.updateModelWithStep(k(n),q,f,h.max,h.min);j(n,a),g[0].value=k(n),f.$apply()}function j(a,b){for(var c=a.split("."),d=f,e=0,g=c.length;g>e;e++)e===g-1?d[c[e]]=b:d=d[c[e]]}function k(a){for(var b=a.split("."),c=f,d=0;d<b.length;d++)c=c[b[d]];return c}var l=d.generateUID(),m=h.step||1,n=h.ngModel,o=b.element('<div id="bento-number-input-button-up-'+l+'" class="bento-number-input-button bento-number-input-button-up"><i class="glyphicon glyphicon-chevron-up"></i></div>'),p=b.element('<div id="bento-number-input-button-up-'+l+'" class="bento-number-input-button bento-number-input-button-down"><i class="glyphicon glyphicon-chevron-down"></i></div>');g.on("input",function(a){var b=a.currentTarget.value;h.max&&b>parseInt(h.max)?b=b.slice(0,b.length-1):h.min&&b<parseInt(h.min)&&(b=b.slice(0,b.length-1)),j(n,parseFloat(b)),d.safeApply(f)}),(d.getIEVersion()>-1||"number"!==h.type)&&g.on("keydown",function(a){if(38===a.keyCode){var b=c.updateModelWithStep(k(n),m,f,h.max,h.min);j(n,b)}else if(40===a.keyCode){var b=c.updateModelWithStep(k(n),-m,f,h.max,h.min);j(n,b)}f.$apply()}),m=Number(m);var q,r="mousedown",s="mouseup",t=125;d.isTouchSupported()&&(r="touchstart",s="touchend"),o.on(r,function(c){function d(){i(),f.timer=e(d,t)}return 3==c.which?!1:(q=m,void(g.context.disabled||(d(),b.element(a).one(s,function(){e.cancel(f.timer)}))))}),p.on(r,function(c){function d(){i(),f.timer=e(d,t)}return 3==c.which?!1:(q=-m,void(g.context.disabled||(d(),b.element(a).one(s,function(){e.cancel(f.timer)}))))});var u=h.max?h.max.length:6,v=" six-digit";h.min&&h.min.length>u&&(u=h.min.length),3>=u&&(v=" two-digit"),g.wrap('<span class="bento-number-input-wrapper'+(g.hasClass("form-control")?" full-width":"")+v+'"></span>'),g.addClass("form-control"),g.after(p),g.after(o),f.$on("$destroy",function(){e.cancel(f.timer)})}}}])}(window,window.angular);