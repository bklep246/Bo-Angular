/**
 * Bento Modern v0.8.13
 * Copyright 2015 Thomson Reuters
 * Maintained by Chi Gao, Joe Huang, Aaron Mendez
 */
!function(a,b){"use strict";var c=a.module("bento.pagination",["bento.services","bento.select","bento.cookie","pascalprecht.translate"]);c.config(["$translateProvider","$bentoTranslateLoaderProvider","$bentoJSRootProvider","$bentoCookieProvider",function(a,b,c,d){var e=d.getCookie("uiCulture","en");c.configAngularTranslateProvider("bento-pagination",a,b,e)}]).directive("bentoPagination",["$parse","$translate","$q",function(a,c){return{restrict:"EA",scope:{currentPage:"=page",totalItems:"=",itemsPerPage:"=?",infoText:"@",infoPageText:"@",goToText:"@",lang:"=?",directionLinks:"&",boundaryLinks:"&",itemsArray:"=?",onChange:"&",onChangeSize:"&",eventTracking:"&",onSelectPage:"&"},templateUrl:"../templates/pagination/bento-pagination.html",replace:!0,link:function(a,d,e){c.preferredLanguage("en");var f={eventName:"default",value:"-1"},g={page:1},h={size:-1};a.VM={currentPage:1,tgtPage:1,maxPage:1,itemsPerPage:10,itemsPerPageHistory:10,itemsArray:[{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100}],boundaryLinks:!0,directionLinks:!0,infoPageText:"Page _PAGE_ of _PAGES_",infoText:"_START_ to _END_ of _MAX_ Entries",goToText:"Go",lang:"en"},Object.keys(a.VM).forEach(function(b){e[b]="undefined"==typeof e[b]?a.VM[b]:e[b]}),a.VM.itemsPerPageHistory=a.itemsPerPage,a.VM.maxPage=Math.ceil(a.totalItems/a.itemsPerPage),a.itemsArray=a.itemsArray?a.itemsArray:a.VM.itemsArray;var i=function(){if(a.VM.tgtPage=a.currentPage,a.VM.maxPage=Math.ceil(a.totalItems/a.itemsPerPage),"undefined"!=typeof a.infoText){var b=a.totalItems<a.itemsPerPage*a.currentPage?a.totalItems:a.itemsPerPage*a.currentPage;a.VM.infoText=a.infoText,a.VM.infoText=a.VM.infoText.replace("_START_",(a.currentPage-1)*a.itemsPerPage+1),a.VM.infoText=a.VM.infoText.replace("_END_",b),a.VM.infoText=a.VM.infoText.replace("_MAX_",a.totalItems)}"undefined"!=typeof a.infoPageText&&(a.VM.infoPageText=a.infoPageText,a.VM.infoPageText=a.VM.infoPageText.replace("_PAGE_",a.currentPage),a.VM.infoPageText=a.VM.infoPageText.replace("_PAGES_",Math.ceil(a.totalItems/a.itemsPerPage).toString())),a.eventTracking(f),a.currentPage!=g.page&&(g.page=a.currentPage,a.onChange(g))};a.renderComponent=i,a.textCollection=[],void 0!==a.lang&&a.$watch("lang",function(b){c.use(b).then(function(){c("GO_BUTTON").then(function(b){a.goToText=b,a.textCollection[0]=b}),c("INFO_PAGE_TEXT").then(function(b){a.infoPageText=b,a.textCollection[1]=b}),c("INFO_TEXT").then(function(b){a.infoText=b,a.textCollection[2]=b})})}),a.$watchCollection("textCollection",function(){f.eventName="pagination text changed",f.value=a.infoText+"//"+a.infoPagetext+"//"+a.lang,i()}),a.$watch("itemsPerPage",function(b,c){b!==c&&(f.eventName="items per page changed",f.value=a.itemsPerPage,h.size=a.itemsPerPage,a.onChangeSize(h),1===a.currentPage?i():a.currentPage=1)}),a.$watch("currentPage",function(){i()}),a.$watch("totalItems",function(){f.eventName="total items changed",f.value=a.totalItems,i()}),a.keySelectPage=function(c,d){c=c?c:b.event,13===c.which&&a.goToPage(d)},a.goToPage=function(b){a.currentPage="max"===b?a.VM.maxPage:!isNaN(parseInt(b))&&b>0&&b<=a.VM.maxPage?parseInt(b):a.currentPage,f.eventName="current page value modification",f.value="input value => "+b+" value@ "+a.currentPage}}}}])}(window.angular,window);